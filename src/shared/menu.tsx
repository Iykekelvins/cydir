'use client';

import { useEffect } from 'react';
import { useProvider } from '@/app/context';
import { useLenis } from 'lenis/react';
import { NAV_LINKS } from '@/utils/mock';

export default function Menu() {
	const { openMenu, setOpenMenu } = useProvider();

	const lenis = useLenis();

	useEffect(() => {
		if (!lenis) return;

		if (openMenu) {
			lenis.stop();
		} else {
			lenis.start();
		}
	}, [openMenu, lenis]);

	return (
		<div
			className={`lg:hidden px-[max(1.5rem,24px)]
      fixed top-0 left-0 w-full h-full z-20
			transition-opacity duration-500 ease
			${openMenu ? 'opacity-100 pointer-events-auto' : 'pointer-events-none opacity-0'}
      `}
			style={{
				backgroundImage: `
    linear-gradient(322.88deg, #000000 3.72%, #091529 96.71%)
  `,
			}}>
			<ul
				className='mt-[70px] pt-[max(3rem,48px)] grid 
			gap-[max(3rem,48px)] border-t border-t-white border-solid'>
				{NAV_LINKS.slice(0, NAV_LINKS.length - 1).map((link) => (
					<li key={link}>
						<button
							className='text-white text-[36px] font-semibold tracking-tighter italic'
							onClick={() => {
								setOpenMenu(false);
								setTimeout(() => {
									lenis?.scrollTo(`#${link.toLocaleLowerCase()}`, { offset: -100 });
								}, 800);
							}}>
							{link}
						</button>
					</li>
				))}
			</ul>

			<svg
				width='180'
				height='180'
				viewBox='0 0 180 180'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
				className='right-[29px] bottom-[52px] absolute'>
				<g clipPath='url(#clip0_986_4603)'>
					<path
						d='M179.993 88.8631L179.545 88.8769L179.993 88.8011C179.993 88.2912 179.979 87.7883 179.959 87.2922C179.945 86.8581 179.924 86.424 179.91 85.9968L179.897 85.735C179.876 85.2113 179.842 84.6877 179.807 84.1709C179.738 83.0616 179.655 82.0487 179.559 81.0772C179.518 80.6638 179.476 80.2572 179.428 79.8576L179.407 79.6854C179.38 79.4235 179.352 79.1686 179.318 78.9412L179.153 77.6252C179.097 77.2462 179.042 76.8604 178.987 76.4745C178.925 76.0542 178.856 75.6408 178.787 75.2274L178.443 73.2637C178.36 72.8434 178.284 72.4162 178.174 71.8994C178.091 71.4998 178.009 71.1002 177.919 70.7212C177.83 70.3009 177.733 69.8875 177.637 69.4809L177.609 69.3569C177.547 69.0744 177.485 68.7919 177.409 68.5094C177.347 68.2407 177.278 67.9789 177.216 67.7515C177.182 67.593 177.141 67.4346 177.106 67.3174C177.023 66.9867 176.934 66.6629 176.851 66.3528C176.782 66.0979 176.713 65.836 176.638 65.5673L175.866 62.9835C175.742 62.577 175.611 62.1635 175.48 61.7777C175.37 61.4332 175.253 61.0818 175.135 60.751C175.011 60.3859 174.887 60.0207 174.763 59.6693C174.646 59.3386 174.522 59.0078 174.405 58.7047C174.274 58.3395 174.136 57.9743 173.971 57.554C173.751 56.9821 173.523 56.4102 173.289 55.8521L172.717 54.481C172.593 54.2053 172.476 53.9297 172.345 53.6266L172.29 53.5025C172.207 53.3096 172.124 53.1236 172.035 52.9375L171.635 52.0763C171.422 51.6215 171.208 51.1668 170.994 50.7327C169.713 48.0868 168.28 45.4685 166.736 42.9674C150.462 16.4607 122.205 0.406536 91.1782 0.013794C90.3996 -0.00687665 89.5935 -0.00687665 88.8562 0.013794C57.7262 0.399646 29.435 16.5159 13.1672 43.119C4.76114 56.8581 0.213597 72.6711 0.0137804 88.8356C0 89.2214 0 89.6211 0 90.0069C0 90.3928 0 90.7924 0.0137804 91.1645C0.220487 107.784 4.99541 123.969 13.8356 137.97C30.1998 163.911 58.243 179.628 88.8355 180C89.2214 180.014 89.6142 180.014 90.0069 180.014C90.3996 180.014 90.7924 180.014 91.1644 180C122.108 179.614 150.317 163.643 166.619 137.274C167.164 136.392 167.701 135.482 168.259 134.511C168.776 133.601 169.196 132.85 169.568 132.12L169.623 132.017C169.982 131.341 170.347 130.625 170.802 129.695C171.001 129.288 171.201 128.875 171.435 128.385L171.553 128.137C171.766 127.683 171.973 127.228 172.166 126.787C172.373 126.332 172.572 125.87 172.758 125.429C172.951 124.989 173.137 124.554 173.358 124.01C173.523 123.61 173.689 123.197 173.833 122.804C174.233 121.798 174.605 120.792 174.936 119.835C175.101 119.373 175.26 118.918 175.411 118.443L175.452 118.326C175.604 117.871 175.749 117.416 175.887 116.968C176.038 116.486 176.19 115.997 176.328 115.521C176.465 115.06 176.596 114.605 176.727 114.123L177.141 112.593C177.389 111.615 177.623 110.643 177.864 109.589C177.974 109.1 178.078 108.61 178.16 108.163C178.243 107.811 178.312 107.453 178.36 107.15C178.443 106.778 178.512 106.406 178.567 106.054C178.629 105.723 178.684 105.393 178.753 105C178.829 104.552 178.911 104.091 178.98 103.56C179.049 103.105 179.118 102.657 179.187 102.127L179.228 101.824C179.283 101.39 179.339 100.962 179.38 100.556C179.442 100.039 179.504 99.5154 179.552 99.0055C179.6 98.537 179.642 98.0616 179.683 97.5379C179.697 97.3725 179.717 97.2072 179.717 97.09C179.745 96.7869 179.773 96.4699 179.78 96.2012C179.807 95.8774 179.828 95.5466 179.842 95.2228L179.952 92.7423C179.966 92.2393 179.979 91.7364 179.986 91.1645C180 90.7786 180 90.3859 180 90C180 89.6142 180 89.2214 179.986 88.8562L179.993 88.8631ZM177.085 96.8833L177.044 97.4001C177.01 97.848 176.968 98.2889 176.92 98.7437C176.872 99.2398 176.824 99.7359 176.755 100.253C176.706 100.694 176.651 101.128 176.603 101.52C176.582 101.638 176.569 101.762 176.555 101.851C176.5 102.285 176.438 102.712 176.369 103.133C176.355 103.202 176.348 103.264 176.348 103.291C176.286 103.718 176.217 104.139 176.135 104.607C176.079 104.924 176.024 105.248 175.962 105.586C175.907 105.923 175.845 106.254 175.763 106.633C175.707 106.95 175.645 107.26 175.57 107.611C175.487 108.073 175.384 108.535 175.287 108.969C175.266 109.031 175.26 109.093 175.246 109.134C175.046 110.037 174.819 110.974 174.577 111.911L174.164 113.427C174.047 113.868 173.916 114.309 173.785 114.75C173.647 115.218 173.509 115.687 173.351 116.162C173.234 116.548 173.11 116.927 172.986 117.306L172.944 117.444C172.917 117.52 172.889 117.588 172.882 117.623C172.745 118.057 172.593 118.484 172.428 118.932C172.104 119.869 171.746 120.841 171.353 121.833C171.208 122.219 171.057 122.598 170.843 123.107C170.678 123.521 170.512 123.927 170.319 124.355C170.133 124.796 169.94 125.237 169.74 125.684C169.548 126.125 169.348 126.56 169.148 126.987L169.031 127.228C168.831 127.648 168.631 128.068 168.424 128.496C167.977 129.405 167.625 130.101 167.301 130.707C167.26 130.776 167.226 130.838 167.212 130.873C166.847 131.562 166.447 132.292 165.951 133.174C165.407 134.125 164.89 135 164.352 135.861C148.532 161.458 121.151 176.961 91.1024 177.333C90.7441 177.347 90.3927 177.347 90.0344 177.347H89.8346C89.5177 177.347 89.2145 177.347 88.8838 177.333C59.1732 176.968 31.9568 161.713 16.068 136.537C7.48966 122.949 2.85255 107.239 2.65273 91.0956C2.63895 90.7235 2.63895 90.3583 2.63895 89.9931C2.63895 89.6279 2.63895 89.2628 2.65273 88.8769C2.84566 73.1741 7.26229 57.8227 15.4203 44.4901C31.2127 18.6794 58.6771 3.0386 88.9045 2.66653C89.2559 2.65964 89.6141 2.65275 90 2.65275C90.3858 2.65275 90.7373 2.65275 91.1231 2.66653C121.254 3.04549 148.684 18.6312 164.49 44.3523C165.985 46.7846 167.377 49.3202 168.624 51.8971C168.831 52.3174 169.038 52.7446 169.237 53.1856L169.637 54.0538C169.72 54.226 169.796 54.3983 169.871 54.5705L169.947 54.7428C170.064 55.0046 170.181 55.2595 170.292 55.5214L170.85 56.8581C171.077 57.3955 171.298 57.9398 171.525 58.5531C171.656 58.8976 171.794 59.2421 171.925 59.6211C172.042 59.9311 172.159 60.2343 172.269 60.5581C172.366 60.8268 172.462 61.1025 172.559 61.3781L172.641 61.6192C172.758 61.9431 172.862 62.2669 172.972 62.6045C173.103 62.9904 173.227 63.3831 173.351 63.769L174.123 66.3459L174.316 67.0625C174.398 67.3588 174.474 67.655 174.564 67.9996C174.598 68.1167 174.626 68.2338 174.667 68.3923C174.736 68.6472 174.798 68.8953 174.86 69.1778C174.922 69.4258 174.977 69.6739 175.039 69.9288L175.073 70.0873C175.163 70.48 175.26 70.8797 175.349 71.3C175.439 71.6858 175.521 72.0786 175.597 72.4713L175.625 72.5884C175.694 72.9261 175.763 73.2637 175.825 73.6013L176.19 75.6684C176.259 76.0749 176.321 76.4814 176.383 76.8879C176.438 77.2531 176.493 77.6252 176.541 77.9973L176.603 78.4727C176.631 78.6863 176.658 78.893 176.686 79.1066L176.706 79.2926C176.748 79.5751 176.775 79.8645 176.81 80.1677C176.858 80.5604 176.899 80.9463 176.934 81.3459C177.03 82.2899 177.106 83.2752 177.175 84.35C177.203 84.8461 177.237 85.356 177.258 85.859L177.271 86.1208C177.292 86.5411 177.306 86.9614 177.32 87.3886C177.333 87.8709 177.347 88.3533 177.354 88.932C177.368 89.2972 177.368 89.6624 177.368 90.0207C177.368 90.379 177.368 90.7579 177.354 91.1231V91.2196C177.354 91.7088 177.333 92.1911 177.32 92.6665L177.209 95.0988C177.196 95.3951 177.182 95.6913 177.147 96.0221C177.134 96.2977 177.113 96.5802 177.085 96.8902V96.8833Z'
						fill='white'
						fillOpacity='0.4'
					/>
					<path
						d='M171.099 89.0079L171.547 88.939C171.547 88.4774 171.533 88.0226 171.519 87.5678C171.505 87.0924 171.485 86.6239 171.464 86.1554C171.443 85.6799 171.416 85.2045 171.381 84.736C171.319 83.7645 171.244 82.8136 171.154 81.9317C171.12 81.5596 171.078 81.1875 171.037 80.8292C171.009 80.5743 170.975 80.3193 170.94 79.9955L170.803 78.8931C170.747 78.5141 170.692 78.1351 170.637 77.7562C170.582 77.3772 170.52 76.9983 170.458 76.6262L170.148 74.8416C170.072 74.4558 170.003 74.0768 169.9 73.5876C169.831 73.2293 169.755 72.871 169.679 72.5403C169.597 72.1613 169.507 71.7824 169.418 71.4034C169.356 71.114 169.287 70.8246 169.218 70.5559C169.156 70.301 169.094 70.0529 169.039 69.8462C169.004 69.6946 168.963 69.5499 168.935 69.4535C168.86 69.1503 168.784 68.8609 168.708 68.5784C168.646 68.3441 168.584 68.1099 168.515 67.8618L167.819 65.526C167.702 65.154 167.585 64.7819 167.468 64.4305C167.371 64.1136 167.261 63.7966 167.151 63.5003C167.041 63.1696 166.923 62.832 166.813 62.5219C166.703 62.2187 166.593 61.9225 166.489 61.6469C166.372 61.3161 166.241 60.9854 166.097 60.5995C165.897 60.0759 165.69 59.5591 165.476 59.0561L164.911 57.6988C164.815 57.4852 164.725 57.2647 164.622 57.0373C164.532 56.8306 164.443 56.617 164.346 56.4172L163.988 55.6386C163.802 55.2252 163.602 54.8118 163.409 54.419C162.403 52.3451 161.301 50.2987 160.137 48.3419C159.806 47.7837 159.275 47.391 158.641 47.2325C158.001 47.0741 157.346 47.1843 156.788 47.5288L128.593 65.0506L114.124 74.3042C103.113 66.6629 97.0359 55.4457 92.4126 13.5187C92.2748 12.2922 91.2344 11.3621 89.9872 11.3621C88.7401 11.3621 87.7272 12.2854 87.5894 13.5187C83.9169 46.8673 79.7277 64.527 65.9679 74.2353L58.9813 70.1563L34.0249 54.9702L23.1866 47.7493C22.6354 47.3841 21.9463 47.2601 21.3055 47.4048C20.6648 47.5495 20.1067 47.956 19.769 48.521C12.5343 60.7305 8.62066 74.7176 8.44152 88.9528C8.42773 89.3042 8.42773 89.6625 8.42773 90.0139C8.42773 90.3653 8.42773 90.7305 8.44152 91.0612C8.62066 105.73 12.7479 120.076 20.3823 132.533C20.7199 133.085 21.2504 133.47 21.8843 133.615C22.5251 133.76 23.1659 133.657 23.7171 133.319L51.9188 115.797L66.7534 106.302C79.9137 116.107 83.9721 133.56 87.5894 166.44C87.7272 167.667 88.7677 168.597 90.0148 168.597C91.2619 168.597 92.2748 167.673 92.4126 166.44C95.9886 133.932 99.9505 116.638 112.684 106.73L128.331 115.453L156.678 132.706C157.229 133.043 157.897 133.14 158.517 132.988C159.144 132.83 159.675 132.444 160.006 131.893C160.316 131.376 160.619 130.859 160.915 130.335C161.384 129.515 161.763 128.826 162.155 128.075C162.527 127.38 162.879 126.677 163.23 125.974C163.409 125.623 163.582 125.257 163.747 124.899L163.905 124.561C164.098 124.148 164.284 123.741 164.464 123.342C164.65 122.928 164.829 122.515 165.008 122.095C165.173 121.709 165.339 121.316 165.49 120.944L165.545 120.82C165.683 120.489 165.807 120.159 165.966 119.766C166.324 118.849 166.668 117.919 166.985 117.01C167.123 116.61 167.268 116.204 167.44 115.701C167.578 115.28 167.709 114.867 167.84 114.447C167.978 114.012 168.115 113.565 168.239 113.131C168.363 112.71 168.487 112.297 168.598 111.877L168.977 110.478C169.204 109.596 169.411 108.714 169.631 107.742L169.934 106.282C169.99 106.02 170.045 105.765 170.079 105.544C170.148 105.207 170.217 104.869 170.265 104.552L170.637 102.285C170.699 101.879 170.761 101.472 170.823 100.976L170.851 100.797C170.906 100.377 170.961 99.9633 171.002 99.5568L171.016 99.4259C171.064 98.9987 171.113 98.5784 171.154 98.165C171.195 97.7447 171.23 97.3313 171.271 96.8283C171.285 96.6767 171.299 96.532 171.306 96.4218C171.333 96.1462 171.354 95.8637 171.361 95.6156C171.388 95.3331 171.402 95.0437 171.416 94.7268L171.512 92.4806C171.526 92.0258 171.54 91.5711 171.54 91.0612C171.554 90.7029 171.554 90.3515 171.554 89.9932C171.554 89.6349 171.554 89.2835 171.54 88.9528L171.092 88.9666L171.099 89.0079ZM167.475 107.295L167.006 107.322C166.82 108.142 166.62 108.99 166.407 109.83L166.09 111.029C166.069 111.098 166.048 111.167 166.035 111.201C165.924 111.601 165.814 111.994 165.69 112.4C165.566 112.82 165.442 113.241 165.304 113.661C165.18 114.061 165.056 114.453 164.932 114.826C164.905 114.894 164.884 114.95 164.877 114.977C164.753 115.356 164.622 115.728 164.477 116.148C164.167 117.03 163.837 117.926 163.492 118.815L163.437 118.953C163.32 119.249 163.21 119.538 163.099 119.807L163.044 119.931C162.886 120.31 162.727 120.689 162.569 121.068C162.397 121.461 162.224 121.86 162.038 122.274C161.866 122.674 161.687 123.066 161.501 123.452L161.397 123.673C161.218 124.052 161.039 124.43 160.846 124.809C160.509 125.498 160.171 126.174 159.833 126.808C159.799 126.87 159.764 126.925 159.751 126.966C159.427 127.586 159.062 128.248 158.607 129.04C158.359 129.474 158.111 129.908 157.849 130.342L129.654 113.186L115.061 105.048C125.754 98.041 142.077 95.092 166.455 92.4117C167.681 92.2739 168.611 91.2335 168.611 89.9863C168.611 88.7392 167.688 87.7263 166.455 87.5885C143.069 85.0185 127.318 82.2624 116.57 75.8958L129.992 67.3106L157.973 49.9266C159.062 51.7663 160.088 53.6749 161.018 55.6041C161.205 55.9831 161.391 56.3689 161.57 56.7686L161.935 57.5541C161.997 57.685 162.059 57.8159 162.114 57.9537L162.21 58.1811C162.3 58.3809 162.39 58.5807 162.472 58.7805L163.024 60.0897C163.223 60.5789 163.423 61.0681 163.63 61.6193C163.754 61.9294 163.871 62.2394 163.995 62.5839C164.105 62.8595 164.202 63.1351 164.305 63.4245C164.422 63.7346 164.526 64.0515 164.643 64.3823C164.746 64.6717 164.843 64.9611 164.939 65.2711C165.056 65.6225 165.173 65.9739 165.277 66.3184L165.959 68.6129C166.021 68.8265 166.083 69.0469 166.138 69.2674L166.179 69.4121C166.241 69.6395 166.303 69.8738 166.379 70.1632C166.407 70.2596 166.434 70.3561 166.469 70.4939C166.531 70.7213 166.586 70.9486 166.641 71.2036C166.71 71.4723 166.772 71.7341 166.834 72.0235C166.917 72.3818 167.006 72.7401 167.082 73.1191C167.165 73.4705 167.233 73.8219 167.33 74.2766C167.406 74.6349 167.475 74.9932 167.537 75.3377L167.84 77.0672C167.888 77.3634 167.936 77.6597 167.984 77.9629L168.019 78.1696C168.074 78.521 168.122 78.8724 168.177 79.2789L168.219 79.589C168.246 79.7819 168.267 79.9748 168.295 80.1815L168.308 80.3193C168.343 80.5812 168.377 80.8499 168.405 81.1324C168.446 81.4838 168.481 81.8352 168.522 82.1935C168.605 83.0548 168.68 83.9643 168.742 84.9082C168.77 85.3561 168.798 85.8108 168.818 86.2725C168.839 86.7272 168.86 87.1889 168.873 87.6574C168.887 88.0915 168.901 88.5256 168.901 89.0492C168.908 89.3731 168.908 89.7107 168.908 90.0345C168.908 90.3584 168.908 90.696 168.894 91.0543V91.1232C168.894 91.5642 168.88 91.9983 168.866 92.4255L168.77 94.6303C168.756 94.8921 168.742 95.1609 168.715 95.464C168.701 95.719 168.68 95.967 168.66 96.2564L168.625 96.725C168.591 97.1246 168.556 97.5173 168.515 97.9307C168.481 98.3166 168.432 98.7024 168.384 99.1572L168.37 99.295C168.336 99.6188 168.295 99.9496 168.253 100.26L168.233 100.446C168.219 100.535 168.205 100.625 168.191 100.749C168.136 101.142 168.081 101.527 168.026 101.899L167.991 102.127C167.936 102.485 167.881 102.837 167.819 103.188L167.785 103.367C167.743 103.615 167.702 103.863 167.647 104.132C167.599 104.435 167.544 104.738 167.475 105.083C167.433 105.303 167.392 105.524 167.337 105.765L167.295 105.951C167.213 106.357 167.123 106.771 167.027 107.212L167.468 107.308L167.475 107.295ZM11.0805 91.0267C11.0736 90.696 11.0736 90.3653 11.0736 90.0277C11.0736 89.69 11.0736 89.3662 11.0805 89.0217C11.2527 75.3102 14.9941 61.8605 21.9119 50.0989L32.5917 57.2164L56.7488 71.9202L56.735 71.934L59.3464 73.5049L59.7461 73.7047L63.4668 75.8683C52.7249 82.2486 36.9463 85.0116 13.5196 87.5885C12.2931 87.7263 11.363 88.7667 11.363 90.0139C11.363 91.261 12.2863 92.2739 13.5196 92.4117C37.5251 95.0506 53.6276 97.9307 64.3625 104.69L50.4856 113.572L22.4976 130.962C15.2008 118.96 11.2458 105.152 11.0736 91.0267H11.0805Z'
						fill='white'
						fillOpacity='0.4'
					/>
				</g>
				<defs>
					<clipPath id='clip0_986_4603'>
						<rect width='180' height='180.007' fill='white' />
					</clipPath>
				</defs>
			</svg>
		</div>
	);
}
